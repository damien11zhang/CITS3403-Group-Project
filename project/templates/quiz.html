{% extends "base.html" %}
{% block title %}Career Quiz â€“ Section 1{% endblock %}

{% block content %}
<h1>Select 3 Statements That Describe You Best</h1>
<form method="POST" action="{{ url_for('quiz') }}">
  <div class="card-grid">
    {% for cluster in clusters %}
    <div class="card-selectable" onclick="toggleCard(this)">
      <input type="checkbox" name="selected_clusters" value="{{ cluster.id }}" hidden>
      {{ cluster.description }}
    </div>
    {% endfor %}
  </div>
  <br>
  <button class="button" type="submit">Next</button>
</form>

<script>
function toggleCard(card) {
  const checkbox = card.querySelector('input[type="checkbox"]');
  checkbox.checked = !checkbox.checked;
  card.classList.toggle('selected');

  const selected = document.querySelectorAll('.card-selectable.selected');
  if (selected.length > 3) {
    alert("You can only select up to 3 statements.");
    checkbox.checked = false;
    card.classList.remove('selected');
  }
}
</script>
{% endblock %}
