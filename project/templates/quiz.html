{% extends "base.html" %}
{% block title %}Career Quiz â€“ Section 1{% endblock %}

{% block content %}
<div class="quiz-page-wrapper">
  <h1 class="quiz-heading">Select 3 Statements That Describe You Best</h1>
  <form method="POST" action="{{ url_for('quiz') }}">
    <div class="quiz-card-grid">
      {% for cluster in clusters %}
      <div class="quiz-card" onclick="toggleCard(this)">
        <input type="checkbox" name="selected_clusters" value="{{ cluster.id }}" hidden>
        {{ cluster.description }}
      </div>
      {% endfor %}
    </div>
    <button class="button" type="submit">Next</button>
  </form>
</div>

<script>
function toggleCard(card) {
  const checkbox = card.querySelector('input[type="checkbox"]');
  checkbox.checked = !checkbox.checked;
  card.classList.toggle('selected');

  const selected = document.querySelectorAll('.quiz-card.selected');
  if (selected.length > 3) {
    alert("You can only select up to 3 statements.");
    checkbox.checked = false;
    card.classList.remove('selected');
  }
}
</script>
{% endblock %}
